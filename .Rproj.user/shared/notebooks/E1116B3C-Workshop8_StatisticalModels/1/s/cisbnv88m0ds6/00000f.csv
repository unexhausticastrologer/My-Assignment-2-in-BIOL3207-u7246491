"0","# mean weight of newborn mouse in grams "
"0","intercept <- 5"
"0","# mean daily increase in mass for females"
"0","female_slope <- 1"
"0","# mean daily increase in mass for males"
"0","male_slope <- 1.4"
"0",""
"0","# let's assume that the treatment reduces the slope of weight gain by 0.5 in both sexes"
"0","delta_treatment_slope <- -0.5"
"0","days <- 14"
"0",""
"0","# standard deviation around means"
"0","noise <- 2"
"0",""
"0","age_sex_trt_df <- tibble(mouse_id = 1:n_mice, age = rpois(n_mice,20), sex = c(rep(""FEMALE"",n_mice/2),rep(""MALE"",n_mice/2)), trt = rep(c(rep(""CONTROL"",n_mice/4),rep(""TREATMENT"",n_mice/4)),2)) %>% mutate(before = ifelse(sex == ""FEMALE"",intercept+age*female_slope,intercept+age*male_slope)) %>% mutate(before = before + rnorm(n_mice,0,noise)) %>% mutate(after = ifelse(trt == ""CONTROL"",ifelse(sex == ""FEMALE"",before+(days*female_slope),before+(days*male_slope)),ifelse(sex == ""FEMALE"",before+(days*(female_slope+delta_treatment_slope)),before+(days*(male_slope+delta_treatment_slope))))) %>% mutate(after = after + rnorm(n_mice,0,noise))"
"0","age_sex_trt_df"
